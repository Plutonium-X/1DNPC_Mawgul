BEGIN Mawgul

IF ~NumTimesTalkedTo(0)~ THEN BEGIN 1
  SAY @0
  IF ~~ THEN REPLY @1 GOTO 2
  IF ~~ THEN REPLY @2 GOTO 3
  IF ~~ THEN REPLY @3 GOTO 11
END

IF ~~ THEN BEGIN 2
  SAY @4
  IF ~~ THEN REPLY @5 GOTO 3
  IF ~~ THEN REPLY @6 GOTO 3
  IF ~~ THEN REPLY @3 GOTO 11
END

IF ~~ THEN BEGIN 3
  SAY @7
  IF ~~ THEN REPLY @8 GOTO 4
  IF ~~ THEN REPLY @9 GOTO 4
END

IF ~~ THEN BEGIN 4
  SAY @10
  IF ~~ THEN REPLY @11 GOTO 5
  IF ~~ THEN REPLY @12 GOTO 6
  IF ~~ THEN REPLY @13 GOTO 7
  IF ~~ THEN REPLY @14 GOTO 8
END

IF ~~ THEN BEGIN 5
  SAY @15
  IF ~~ THEN REPLY @12 GOTO 6
  IF ~~ THEN REPLY @13 GOTO 7
  IF ~~ THEN REPLY @14 GOTO 8
  IF ~~ THEN REPLY @16 GOTO 9
END

IF ~~ THEN BEGIN 6
  SAY @17
  IF ~~ THEN REPLY @11 GOTO 5
  IF ~~ THEN REPLY @13 GOTO 7
  IF ~~ THEN REPLY @14 GOTO 8
END

IF ~~ THEN BEGIN 8
  SAY @18
  IF ~~ THEN REPLY @11 GOTO 5
  IF ~~ THEN REPLY @12 GOTO 6
  IF ~~ THEN REPLY @13 GOTO 7
END

IF ~~ THEN BEGIN 7
  SAY @19
  IF ~~ THEN REPLY @11 GOTO 5
  IF ~~ THEN REPLY @12 GOTO 6
  IF ~~ THEN REPLY @14 GOTO 8
  IF ~~ THEN REPLY @20 GOTO 9
END

IF ~~ THEN BEGIN 9
  SAY @21
  IF ~~ THEN REPLY @22 GOTO 10
  IF ~~ THEN REPLY @12 GOTO 6
  IF ~~ THEN REPLY @14 GOTO 8
  IF ~~ THEN REPLY @23 GOTO 11
END

IF ~~ THEN BEGIN 10
  SAY @24
  IF ~~ THEN REPLY @25 DO ~SetGlobal("MauwgulJoined","LOCALS",1) JoinParty()~ EXIT
  IF ~~ THEN REPLY @26 GOTO 11
  IF ~~ THEN REPLY @23 GOTO 11
END

IF ~~ THEN BEGIN 11
  SAY @27
  IF ~~ THEN EXIT
END

IF ~NumTimesTalkedToGT(0)~ THEN BEGIN 15
   SAY @28
    IF ~~ THEN REPLY @29 DO ~SetGlobal("MawgulJoined","LOCALS",1) JoinParty()~ EXIT
    IF ~~ THEN REPLY @30 GOTO 12
END

IF ~~ THEN BEGIN 12
   SAY @31
IF ~~ THEN EXIT
END

BEGIN MawgulP

IF ~Global("MawgulJoined","LOCALS",1)~ THEN BEGIN 13
SAY @32
    IF ~~ THEN REPLY @33 DO ~JoinParty()~ EXIT
    IF ~~ THEN REPLY @34 DO ~SetGlobal("MawgulJoined","LOCALS",0)~ EXIT
END

IF ~Global("MawgulJoined","LOCALS",0)~ THEN BEGIN 14
SAY @35
IF ~~ THEN REPLY @36 DO ~SetGlobal("MawgulJoined","LOCALS",1)
JoinParty()~ EXIT
IF ~~ THEN REPLY @37 EXIT
END
